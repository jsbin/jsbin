{
  "getBin": "SELECT * FROM `sandbox` WHERE `url`=? AND `revision`=? LIMIT 1",
  "getLatestBin": "SELECT * FROM `sandbox` WHERE `url`=? ORDER BY `revision` DESC LIMIT 1",
  "setBin": "INSERT INTO `sandbox` (`javascript`, `css`, `html`, `created`, `last_viewed`, `url`, `revision`, `streaming_key`, `settings`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",
  "setBinPanel": "UPDATE `sandbox` SET `:panel`=?, `settings`=?, `created`=? WHERE `url`=? AND `revision`=? AND `streaming_key`=? and `streaming_key`!='' AND `active`='y'",
  "binExists": "SELECT id FROM `sandbox` WHERE `url`=? LIMIT 1",
  "getUser": "SELECT * FROM `ownership` WHERE `name`=? LIMIT 1",
  "getByEmail": "SELECT * FROM `ownership` WHERE `email`=? LIMIT 1",
  "setUser": "INSERT INTO `ownership` (`name`, `key`, `email`, `last_login`, `created`, `updated`) VALUES (?, ?, ?, ?, ?, ?)",
  "touchLogin": "UPDATE `ownership` SET `last_login`=? WHERE `name`=?",
  "updateUserKey": "UPDATE ownership SET `key`=?, `updated`=? WHERE `name`=?",
  "upgradeUserKey": "UPDATE ownership SET `key`=?, `created`=?, `updated`=? WHERE `name`=?",
  "setBinForUser": "INSERT INTO `owners` (`name`, `url`, `revision`, `last_updated`) VALUES (?, ?, ?, ?)",
  "getBinsByUser": "SELECT `url`, `revision` FROM `owners` WHERE `name`=? ORDER BY `url`, `revision` DESC",
  "getBinByUrlAndRevision": "SELECT * FROM `sandbox` WHERE `url`=? AND `revision`=? LIMIT 1",
  "getLatestBinForUser": "SELECT `url`, `revision` FROM `owners` WHERE `name`=? AND `last_updated` != 0 ORDER BY `last_updated` DESC LIMIT 1",
  "touchOwnership": "UPDATE `owners` SET `last_updated`=? WHERE `name`=? AND `url`=? AND `revision` = ?",
  "updateUserEmail": "UPDATE ownership SET `email`=?, `updated`=? WHERE `name`=?",
  "getUserByEmail": "SELECT * FROM `ownership` WHERE `email`=? LIMIT 1",
  "getUserForForgotToken": "SELECT `ownership`.*, expires FROM `ownership` INNER JOIN `forgot_tokens` ON `name` = `owner_name` WHERE `token` = ? AND `forgot_tokens`.`expires` >= ?",
  "setForgotToken": "INSERT INTO `forgot_tokens` (`owner_name`, `token`, `expires`, `created`) VALUES (?, ?, ?, ?)",
  "deleteExpiredForgotToken": "DELETE FROM `forgot_tokens` WHERE `expires` <= ? OR `token`=? OR `owner_name`=?",
  "reportBin": "UPDATE `sandbox` SET `reported`=? WHERE `url`=? AND `revision`=? AND `active`='y'"
}
